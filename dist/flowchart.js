!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";function i(){this.items=[]}n.r(e),i.prototype.getForId=function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].id===t)return this.items[e];return null},i.prototype.addTestData=function(){this.items.push({id:"a",title:"Hello world A",description:"Question",x:50,y:50,connections:[]}),this.items.push({id:"b",title:"Hello world B",description:"Question",x:500,y:50,connections:[]}),this.items.push({id:"c",title:"Hello world C",description:"Question",x:500,y:500,connections:[{id:"a",label:"yes"},{id:"b",label:"no"}]})};var o=i;function s(t,e){this.parentContainer=t,this.nodes=e,this.canvas=null,this.context=null}s.prototype.init=function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.parentContainer.appendChild(this.canvas)},s.prototype.render=function(){const t=this.context;this.canvas.width=this.parentContainer.clientWidth,this.canvas.height=this.parentContainer.offsetHeight,t.clearRect(0,0,this.canvas.width,this.canvas.height),t.lineWidth=2,t.strokeStyle="#e4e4e4";const e=this.nodes.items;for(var n=0;n<e.length;n++){const o=this.getNodeElementCenter(e[n]);for(var i=0;i<e[n].connections.length;i++){const s=this.nodes.getForId(e[n].connections[i].id),r=this.getNodeElementCenter(s);t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(r.x,r.y),t.stroke()}}},s.prototype.getNodeElementCenter=function(t){return{x:t.x+130,y:t.y+37}};var r=s;function a(t,e){this.target=t.target,this.initialPageX=t.pageX,this.initialPageY=t.pageY,this.first=!0,this.transform=e.transform}a.prototype.setInitialPosition=function(t,e){this.initialX=t,this.initialY=e},a.prototype.setInitialSize=function(t,e){this.initialWidth=t,this.initialHeight=e},a.prototype.setTransformMode=function(t,e){this.hmode=t,this.vmode=e},a.prototype.setController=function(t){this.controller=t},a.prototype.setInnerTarget=function(t){this.innerTarget=t};var l=a;var c=function(){const t=this;t.session=null,t.start=function(e,n){const i=new l(e,n);return n.init(i),t.session=i,window.addEventListener("mousemove",t.moveHandler,!0),window.addEventListener("mouseup",t.moveUpHandler,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},t.hasSession=function(){return null!==t.session},t.moveHandler=function(e){const n=e.pageX-t.session.initialPageX,i=e.pageY-t.session.initialPageY;return t.session.transform(t.session,n,i,e.pageX,e.pageY,t.session.first,!1),t.session.first=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},t.moveUpHandler=function(e){window.removeEventListener("mousemove",t.moveHandler,!0),window.removeEventListener("mouseup",t.moveUpHandler,!1);const n=e.pageX-t.session.initialPageX,i=e.pageY-t.session.initialPageY;t.session.transform(t.session,n,i,e.pageX,e.pageY,t.session.first,!0),t.session=null}};function d(t,e){this.parent=t,this.node=e,this.element=null}d.prototype.render=function(){var t=document.createElement("div");t.classList.add("node"),t.appendChild(this.renderInfo()),t.style.top=this.node.y+"px",t.style.left=this.node.x+"px";const e=this;return t.addEventListener("mousedown",n=>{e.startDragDrop(n,t)}),this.element=t,t},d.prototype.renderInfo=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div");return t.classList.add("info"),e.classList.add("title"),n.classList.add("description"),t.appendChild(e),t.appendChild(n),e.innerText=this.node.title,n.innerText=this.node.description,t},d.prototype.applyPosition=function(){this.element.style.top=this.node.y+"px",this.element.style.left=this.node.x+"px",this.parent.onNodePositionChanged()},d.prototype.startDragDrop=function(t){const e=this;this.parent.dragDropEngine.start(t,{init(t){t.setInitialPosition(e.node.x,e.node.y)},transform(t,n,i,o,s,r,a){r&&e.element.classList.contains("animate-position")&&e.element.classList.remove("animate-position"),e.node.x=t.initialX+n,e.node.y=t.initialY+i,e.applyPosition()}})};var h=d;function p(t,e,n,i){this.parent=t,this.from=e,this.to=n,this.label=i,this.element=null}p.prototype.render=function(){var t=document.createElement("div");t.classList.add("label"),t.innerText=this.label;var e=this.getLineCenter();return t.style.top=e.y+"px",t.style.left=e.x+"px",this.element=t,t},p.prototype.updatePosition=function(){var t=this.getLineCenter();this.element.style.top=t.y+"px",this.element.style.left=t.x+"px"},p.prototype.getLineCenter=function(){return{x:(this.from.x+this.to.x)/2+130-50,y:(this.from.y+this.to.y)/2+37-17}};var u=p;function f(t,e){this.parent=t,this.parentContainer=t.container,this.nodes=e,this.nodeControllers=null,this.connectionControllers=null,this.container=null,this.dragDropEngine=new c}f.prototype.init=function(){this.container=document.createElement("div"),this.container.classList.add("node-container"),this.parentContainer.appendChild(this.container)},f.prototype.createNodeControllers=function(){this.nodeControllers=[];const t=this.nodes.items;for(var e=0;e<t.length;e++)this.nodeControllers.push(new h(this,t[e]))},f.prototype.createConnectionControllers=function(){this.connectionControllers=[];const t=this.nodes.items;for(var e=0;e<t.length;e++)for(var n=0;n<t[e].connections.length;n++){var i=t[e],o=this.nodes.getForId(t[e].connections[n].id),s=t[e].connections[n].label;this.connectionControllers.push(new u(this,i,o,s))}},f.prototype.render=function(){this.container.innerHTML="",this.createNodeControllers(),this.createConnectionControllers();for(var t=0;t<this.nodeControllers.length;t++){var e=this.nodeControllers[t].render();this.container.appendChild(e)}for(t=0;t<this.connectionControllers.length;t++){var n=this.connectionControllers[t].render();this.container.appendChild(n)}},f.prototype.updateLabelPositions=function(){for(var t=0;t<this.connectionControllers.length;t++)this.connectionControllers[t].updatePosition()},f.prototype.onNodePositionChanged=function(){this.updateLabelPositions(),this.parent.onNodePositionChanged()};var m=f;function v(t){this.parentContainer=document.querySelector(t),this.container=document.createElement("div"),this.container.classList.add("flowchart"),this.parentContainer.appendChild(this.container),this.nodes=new o,this.canvas=new r(this.container,this.nodes),this.dom=new m(this,this.nodes)}v.prototype.init=function(){this.canvas.init(),this.dom.init(),this.nodes.addTestData(),this.render()},v.prototype.render=function(){this.canvas.render(),this.dom.render()},v.prototype.onNodePositionChanged=function(){this.canvas.render()};var y=v;n(0);window.Flowchart=y}]);